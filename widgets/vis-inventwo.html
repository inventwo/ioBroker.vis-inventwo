<!--
	ioBroker.vis vis-inventwo Widget-Set
	version: "3.x.x"
	Copyright 2022 jkvarel jkvarel@inventwo.com
-->



<script src="widgets/vis-inventwo/vendor/iro.min.js"></script>

<link rel="stylesheet" href="widgets/vis-inventwo/css/style.css?v=4">

<script src="widgets/vis-inventwo/js/translation.js"></script>
<script src="widgets/vis-inventwo/js/vis-inventwo.js"></script>
<script src="widgets/vis-inventwo/js/widgets.js"></script>
<script src="widgets/vis-inventwo/js/helper.js"></script>
<script src="widgets/vis-inventwo/js/components.js"></script>
<!--<script src="widgets/vis-inventwo/js/vis-inventwo.js"></script>-->

<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
						 iGridId;
 						 iGridColumn/number,1,100,1;
 						 iGridRow/number,1,100,1;
 						 iGridColumnSpan[1]/number,1,100,1;
 						 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-universal"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Universal.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iUniversalWidgetTypeInfo/custom,vis-inventwo.infoText,universalTypeInfo;
						iUniversalWidgetType[Switch]/select,Switch,State,Navigation,Background,IncreaseDecreaseValue,ViewInPopup,HTTP/updateUniversalDataFields();
						nav_view;
						oid/id;
						iValueType[boolean]/nselect,boolean,value;
						iValueTypeInfo/custom,vis-inventwo.infoText,valueType;
						iValueComparison[equal]/select,equal,greater,lower,not,greaterEqual,lowerEqual;
						iValueFalse/text;
						iValueTrue/text;
						value/text;
						iTextFalse/html;
						iTextTrue/html;
						iImageFalse/image;
						iImageTrue/image;
						iStateResponseTime[0]/slider,0,2000,100;
						iStateResetValueTime[0]/slider,0,2000,100;
						iNavWait[100]/number;
						iHttpType[iSend]/select,iSend,iOpenUrl,iOpenUrlNewTab;

						hide_effect/effect;
						hide_duration/slider,0,10000,100;
						hide_options/effect-options;

						iText-ViewPopUpSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpBackground[#666666]/color;
						iPopUpPreventClickOutside[]/checkbox;
						iPopUpShowTitle[true]/checkbox;
						iPopUpTitle[]/html;
						iPopUpTitleColor[#ffffff]/color;
						iPopUpCloseBtnColor[#dc2e2e]/color;
						iPopUpWidth[800px];
						iPopUpHeight[500px];
						iPopUpHeightTitle[50]/slider,0,100,1;
						iPopUpTitleSize[28]/slider,0,100,1;
						iPopUpPosition[center]/nselect,left,right,top,bottom,center,custom;
						iPopUpPositionX[0];
						iPopUpPositionY[0];
						iPopUpScrollX/checkbox;
						iPopUpScrollY/checkbox;
						iPopUpCloseAfterSeconds[0]/slider,1,3600,1;
						iPopUpCloseDp-oid/id;
						iPopUpCloseDpValue/text;
						iPopUpOpenDpValue/text;

						iText-ViewPopUpCornersSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpCornerRadiusUL[12]/slider,0,50,1;
						iPopUpCornerRadiusUR[0]/slider,0,50,1;
						iPopUpCornerRadiusLR[12]/slider,0,50,1;
						iPopUpCornerRadiusLL[0]/slider,0,50,1;

 						iText-ViewPopUpShadowSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpShadowXOffset[2]/slider,0,20,1;
						iPopUpShadowYOffset[2]/slider,0,20,1;
						iPopUpShadowBlur[2]/slider,0,20,1;
						iPopUpShadowSpread[1]/slider,0,20,1;
						iPopUpShadowColor[#111111]/color;"
		data-vis-attrs0="group.i-css;
						 iApplyTheme/custom,vis-inventwo.applyThemeButton,universal;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonActive[#455618]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iContentType[image]/select,image,clock_analog,clock_digital,html_text/updateUniversalDataFields();

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextColorActive[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-ClockSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iImgRotation[0]/slider,0,180,1;
						 iFlipImage/checkbox;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgBlinkTrue[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorTrue[]/color;
						 iImgColorInvertFalse/checkbox;
						 iImgColorInvertTrue/checkbox;
						 iImgClockFace[01]/nselect,01,02,03,04,05;
						 iImgClockHands[01]/nselect,01,02,03,04,05;
						 iImgClockShowBorder[1]/checkbox;
						 iImgColorClockFace[#ffffff]/color;
						 iImgColorHands[#ffffff]/color;
						 iImgColorHandSecond[#ff0000]/color;
						 iClockShowSeconds[]/checkbox;
						 iClockTimezone[Europe/Berlin]/text;
						 iHtmlTextFieldFalse[]/html;
						 iHtmlTextFieldTrue[]/html;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;
						 iShadowColorHover[]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;
						 iShadowInnerColorHover[]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;
						 iShadowTextColorActive[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;
						 iBorderColorHover[]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Universal<br>
						<span style='color:#888888;'>Switch - State/Button - Navigation - Background</span>">

	<div class="vis-widget waves-effect waves-light vis-inventwo-universal-widget"
		 style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1"
		 id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo-widgets'].universalMultiButton(el, this.data,'universal') %>

	</div>
</script>


<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
 iGridColumn/number,1,100,1;
 iGridRow/number,1,100,1;
 iGridColumnSpan[1]/number,1,100,1;
 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-multi"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Multi.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iUniversalWidgetTypeInfo/custom,vis-inventwo.infoText,universalTypeInfo;
						iUniversalWidgetType[Switch]/select,Switch,State,Navigation,Background,IncreaseDecreaseValue,ViewInPopup,HTTP/updateUniversalDataFields();
						nav_view;
						oid/id;
						iValueType[boolean]/select,boolean,value;
						iValueTypeInfo/custom,vis-inventwo.infoText,valueType;
						iValueFalse/text;
						iValueTrue/text;
						value/text;
						iTextFalse/html;
						iImageFalse/image;
						iStateResponseTime[0]/slider,0,2000,100;
						iStateResetValueTime[0]/slider,0,2000,100;
						iNavWait[100]/number;
						iHttpType[iSend]/select,iSend,iOpenUrl,iOpenUrlNewTab;

						hide_effect/effect;
						hide_duration/slider,0,10000,100;
						hide_options/effect-options;

						iText-ViewPopUpSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpBackground[#666666]/color;
						iPopUpPreventClickOutside[]/checkbox;
						iPopUpShowTitle[true]/checkbox;
						iPopUpTitle[]/html;
						iPopUpTitleColor[#ffffff]/color;
						iPopUpCloseBtnColor[#dc2e2e]/color;
						iPopUpWidth[800];
						iPopUpHeight[500];
						iPopUpHeightTitle[50]/slider,0,100,1;
						iPopUpTitleSize[28]/slider,0,100,1;
						iPopUpPosition[center]/nselect,left,right,top,bottom,center,custom;
						iPopUpPositionX[0];
						iPopUpPositionY[0];
						iPopUpScrollX/checkbox;
						iPopUpScrollY/checkbox;
						iPopUpCloseAfterSeconds[0]/slider,1,3600,1;
						iPopUpCloseDp-oid/id;
						iPopUpCloseDpValue/text;
						iPopUpOpenDpValue/text;

						iText-ViewPopUpCornersSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpCornerRadiusUL[12]/slider,0,50,1;
						iPopUpCornerRadiusUR[0]/slider,0,50,1;
						iPopUpCornerRadiusLR[12]/slider,0,50,1;
						iPopUpCornerRadiusLL[0]/slider,0,50,1;

 						iText-ViewPopUpShadowSettings/custom,vis-inventwo.infoText,emptyText;
						iPopUpShadowXOffset[2]/slider,0,20,1;
						iPopUpShadowYOffset[2]/slider,0,20,1;
						iPopUpShadowBlur[2]/slider,0,20,1;
						iPopUpShadowSpread[1]/slider,0,20,1;
						iPopUpShadowColor[#111111]/color;"
		data-vis-attrs0="iUniversalValueCount[1]/number,1,20,1/updateUniversalDataFields();group.iUniversalValues/byindex;

						 iCheckType(1-iUniversalValueCount)[iCheckDefault]/select,iCheckDefault,iCheckDpValue,iCheckView;
						 oid(1-iUniversalValueCount)/id;
						 iValueComparison(1-iUniversalValueCount)[equal]/select,equal,greater,lower,not,greaterEqual,lowerEqual;
						 iValue(1-iUniversalValueCount)/text;
						 iView(1-iUniversalValueCount)/views;
						 iTextTrue(1-iUniversalValueCount)/html;

						 iText-BackgroundSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iButtonActiveM(1-iUniversalValueCount)[#455618]/color;

						 iText-TextSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iTextColorActive(1-iUniversalValueCount)[#ffffff]/color;

						 iText-ShadowSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-ShadowInnerSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-TextShadowSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextColorActiveM(1-iUniversalValueCount)[#111111]/color;

						 iText-BorderSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iBorderColorActiveM(1-iUniversalValueCount)[#ffffff]/color;

						 iText-ImageSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings(1-iUniversalValueCount)/custom,vis-inventwo.infoText,emptyText;
						 iImageTrue(1-iUniversalValueCount)/image;
						 iImgBlinkTrue(1-iUniversalValueCount)[0]/slider,0,2000,100;
						 iImgColorTrue(1-iUniversalValueCount)[]/color;
						 iImgColorInvert(1-iUniversalValueCount)/checkbox;
						 iHtmlTextFieldTrue(1-iUniversalValueCount)[]/html;"
		data-vis-attrs1="group.i-css;
						 iApplyTheme/custom,vis-inventwo.applyThemeButton,multi;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iContentType[image]/select,image,clock_analog,clock_digital,html_text/updateUniversalDataFields();

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextColorActive[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-ClockSettings/custom,vis-inventwo.infoText,emptyText;
						 iText-HtmlTextSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgRotation[0]/slider,0,180,1;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iFlipImage/checkbox;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorInvert/checkbox;
						 iImgClockFace[01]/nselect,01,02,03,04,05;
						 iImgClockHands[01]/nselect,01,02,03,04,05;
						 iImgClockShowBorder[true]/checkbox;
						 iImgColorClockFace[#ffffff]/color;
						 iImgColorHands[#ffffff]/color;
						 iImgColorHandSecond[#ff0000]/color;
						 iClockShowSeconds[]/checkbox;
						 iClockTimezone[Europe/Berlin]/text;
						 iHtmlTextFieldFalse[]/html;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Multi<br>
						<span style='color:#888888;'>Switch - State/Button - Navigation - Background</span>">

	<div class="vis-widget waves-effect waves-light vis-inventwo-multi-widget"
		 style="width:110px; height:110px; overflow:visible; cursor:pointer;z-index:1"
		 id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo-widgets'].universalMultiButton(el, this.data,'multi') %>
	</div>


</script>

<script id="i-vis-slider-simple"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Slider1.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iMinVal[1];
						iMaxVal[100];
						iStepVal[1]/slider,1,100,0.1;
						iVisibleStepVal[1]/slider,1,100,0.1;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iValuePreText/text;
						iValueAfterText/text;
						iShowMinMax/checkbox;
						iShowValue/checkbox;
						iChangeOnRelease/checkbox;
						iInvertMinMax/checkbox;
						iShowSteps/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderColor[#ffffff]/color;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobColor[#455618]/color;
						 iSliderKnobCorners[100]/slider,0,100,1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iValueTextColor[#455618]/color;
						 iTextSize[12]/slider,0,50,1;
						 iStepTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Simple Slider horizontal">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

		let elHeight;
		let topSpace = 0;
		if((dataNew.iSliderKnobSize < dataNew.iTextSize) && dataNew.iShowMinMax){
			elHeight = elHeight = parseInt(dataNew.iTextSize) * 2 + 15;
			topSpace = parseInt(dataNew.iTextSize) / 2;
		}
		else{
			elHeight = parseInt(dataNew.iSliderKnobSize) + parseInt(dataNew.iTextSize) + 15;
			topSpace = parseInt(dataNew.iSliderKnobSize) / 2;
		}

	%>

	<div class="vis-widget vis-inventwo-slider slider-horizontal <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="width:200px; height:<%= elHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: auto; display:flex;align-items:center;flex-wrap:wrap; top:<%= topSpace%>px;">

			<% if(dataNew.iShowMinMax){ %>
				<div style="margin-right: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
					<% if (!dataNew.iInvertMinMax) { %>
						<%= dataNew.iMinVal %>
					<% } else { %>
						<%= dataNew.iMaxVal %>
					<% } %>
				</div>

				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; height: <%= dataNew.iSliderHeight %>px;"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"},"normal") %> ></div>

				<div style="margin-left: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
					<% if (!dataNew.iInvertMinMax) { %>
						<%= dataNew.iMaxVal %>
					<% } else { %>
						<%= dataNew.iMinVal %>
					<% } %>
				</div>

			<% } else { %>
				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; height: <%= dataNew.iSliderHeight %>px; margin: 0 <%= dataNew.iShowMinMax %>px;"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"}, "normal") %> ></div>

			<% } %>

		</div>

		<div style="position:absolute; left:0px; bottom:0px;"><%= dataNew.iSliderLabel %></div>
		<% if(dataNew.iShowValue){ %>
			<div style="position:absolute; right:0px; bottom:0px;color:<%= dataNew.iValueTextColor%>">
				<%== dataNew.iValuePreText%>
				<span class="vis-inventwo-slider-currentvalue"><%= vis.states.attr(this.data.oid + '.val') %></span>
				<%== dataNew.iValueAfterText%>
			</div>
		<% } %>

	</div>

	<%
		vis.states.bind(this.data.oid + ".val", function (e, newVal, oldVal) {
			if(newVal != oldVal)
				$('#' + dataNew.wid + ' .vis-inventwo-slider-currentvalue').html(newVal);
		});
	%>

</script>

<script id="i-vis-slider-simple-2"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Slider2.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iMinVal[1];
						iMaxVal[100];
						iStepVal[1]/slider,1,100,0.1;
						iVisibleStepVal[1]/slider,1,100,0.1;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iValuePreText/text;
						iValueAfterText/text;
						iShowMinMax/checkbox;
						iShowValue/checkbox;
						iChangeOnRelease/checkbox;
						iInvertMinMax/checkbox;
						iShowSteps/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderColor[#ffffff]/color;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobColor[#455618]/color;
						 iSliderKnobCorners[100]/slider,0,100,1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iValueTextColor[#455618]/color;
						 iTextSize[12]/slider,0,50,1;
						 iStepTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Simple Slider vertical">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

	%>
	<div class="vis-widget vis-inventwo-slider slider-vertical <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="height:200px; width:<%= dataNew.iSliderHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >

		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: 100%;display: flex;flex-direction: column;align-items: center;">

			<% if(dataNew.iShowMinMax){ %>
				<% if(dataNew.iShowValue && !dataNew.iInvertMinMax){ %>
					<div><span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%></span></div>
					<div>
						<span class="vis-inventwo-slider-currentvalue" style="color:<%= dataNew.iValueTextColor%>"><%= vis.states.attr(this.data.oid + '.val') %></span> / <%= dataNew.iMaxVal %>
					</div>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
						<span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValueAfterText%></span>
					</div>
				<% } else { %>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%if (dataNew.iInvertMinMax) { %><%= dataNew.iMinVal %><% } else{ %><%= dataNew.iMaxVal %><% } %></div>
				<% } %>

				<div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "normal") %> ></div>

				<div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
				<% if(dataNew.iShowValue && dataNew.iInvertMinMax){ %>
					<div><span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%></span></div>
					<div>
						<span class="vis-inventwo-slider-currentvalue" style="color:<%= dataNew.iValueTextColor%>"><%= vis.states.attr(this.data.oid + '.val') %></span> / <%= dataNew.iMaxVal %>
					</div>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px">
						<span style="color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValueAfterText%></span>
					</div>
				<% } else { %>
					<div style="margin-bottom: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%if (dataNew.iInvertMinMax) { %><%= dataNew.iMaxVal %><% } else{ %><%= dataNew.iMinVal %><% } %></div>
				<% } %>
				</div>

				<div><%= dataNew.iSliderLabel %></div>

			<% } else { %>
				<div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: <%= dataNew.iSliderColor %>; width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "normal") %> ></div>

				<div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%= dataNew.iSliderLabel %></div>

			<% } %>



		</div>


	</div>

		<%
		vis.states.bind(this.data.oid + ".val", function (e, newVal, oldVal) {
			if(newVal != oldVal)
				$('#' + dataNew.wid + ' .vis-inventwo-slider-currentvalue').html(newVal);
		});
	%>


</script>

<script id="i-vis-slider-color-hor"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/ColorSliderHor.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iIdRed-oid/id;
						iIdGreen-oid/id;
						iIdBlue-oid/id;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iChangeOnRelease/checkbox;
						iColorSliderType[HEX]/nselect,HEX,RGB,CIE/updateColorSliderFields;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobCorners[100]/slider,0,100,1;

                         iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Slider horizontal<br>
						<span style='color:#888888;'>HEX, RGB, CIE/xy</span>">

	<%

		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

		let elHeight;
		let topSpace = 0;
		if((dataNew.iSliderKnobSize < dataNew.iTextSize) && dataNew.iShowMinMax){
			elHeight = elHeight = parseInt(dataNew.iTextSize) * 2 + 15;
			topSpace = parseInt(dataNew.iTextSize) / 2;
		}
		else{
			elHeight = parseInt(dataNew.iSliderKnobSize) + parseInt(dataNew.iTextSize) + 15;
			topSpace = parseInt(dataNew.iSliderKnobSize) / 2;
		}

	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="width:200px; height:<%= elHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: auto; display:flex;align-items:center;flex-wrap:wrap; top:<%= topSpace%>px;">

				<div style="top:50%;flex-grow:1; border: 0px; border-radius: <%= dataNew.iSliderCorners %>px; height: <%= dataNew.iSliderHeight %>px; margin: 0 <%= dataNew.iShowMinMax %>px; background: linear-gradient(90deg, rgba(255,0,0,1) 0%, rgba(255,255,0,1) 16%, rgba(0,255,0,1) 33%, rgba(0,255,255,1) 50%, rgba(0,0,158,1) 66%, rgba(255,0,255,1) 83%, rgba(255,0,0,1) 100%);"
					<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"horizontal"}, "rgb") %> ></div>

		</div>

		<div style="position:absolute; left:0px; bottom:0px;"><%= dataNew.iSliderLabel %></div>
		<% if(dataNew.iShowValue){ %>
			<div style="position:absolute; right:0px; bottom:0px;color:<%= dataNew.iValueTextColor%>"><%== dataNew.iValuePreText%><%= vis.states.attr(this.data.oid + '.val') %></div>
		<% } %>

		<%= (el) -> vis.binds['vis-inventwo'].updateColorSliderFieldsClick(el) %>
	</div>

	<%
	if(vis.editMode){
		vis.binds['vis-inventwo'].updateColorSliderFields();
		if (vis.editMode) {
			setTimeout(function () {
				vis.binds["vis-inventwo"].updateColorSliderFields();
			}, 100);
		}
		}

	%>
</script>

<script id="i-vis-slider-color-vert"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/ColorSliderVert.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iIdRed-oid/id;
						iIdGreen-oid/id;
						iIdBlue-oid/id;
						iSliderRotation[0]/slider,-45,45,1;
						iSliderLabel/text;
						iChangeOnRelease/checkbox;
						iColorSliderType[HEX]/nselect,HEX,RGB,CIE/updateColorSliderFields;"
		data-vis-attrs0="group.i-css;
						 iText-SliderBarSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderHeight[10]/slider,1,200,1;
						 iSliderCorners[100]/slider,0,100,1;

						 iText-SliderKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderKnobSize[20]/slider,1,200,1;
						 iSliderKnobCorners[100]/slider,0,100,1;

                         iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iSliderTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Slider vertical<br>
						<span style='color:#888888;'>HEX, RGB, CIE/xy</span>">

	<%
		let dataNew = Object.assign({},this.data);
		if(vis.editMode){
			dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
		}

	%>
	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" id="<%= this.data.attr('wid') %>"
		style="height:200px; width:<%= dataNew.iSliderHeight%>px; overflow:visible; cursor:pointer;font-size:<%= dataNew.iTextSize %>px;color:<%= dataNew.iSliderTextColor %>;z-index:1" >

		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %> " style="position:relative; height: 100%;display: flex;flex-direction: column;align-items: center;">

		    <div style="border: 0px; border-radius: <%= dataNew.iSliderCorners %>px;background: linear-gradient(0deg, rgba(255,0,0,1) 0%, rgba(255,255,0,1) 16%, rgba(0,255,0,1) 33%, rgba(0,255,255,1) 50%, rgba(0,0,158,1) 66%, rgba(255,0,255,1) 83%, rgba(255,0,0,1) 100%); width: <%= dataNew.iSliderHeight %>px;flex-grow:1"
		    	<%= (el) -> vis.binds['vis-inventwo'].handleSlider(el, dataNew,{orientation:"vertical"}, "rgb") %> ></div>

		    <div style="margin-top: <%= (parseInt(dataNew.iSliderKnobSize) / 2) + 5 %>px"><%= dataNew.iSliderLabel %></div>

		</div>
		<%= (el) -> vis.binds['vis-inventwo'].updateColorSliderFieldsClick(el) %>
	</div>

	<%
		if(vis.editMode){
		vis.binds['vis-inventwo'].updateColorSliderFields();
		if (vis.editMode) {
			setTimeout(function () {
				vis.binds["vis-inventwo"].updateColorSliderFields();
			}, 100);
		}
		}

	%>
</script>

<script id="i-vis-color-picker"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Colorpicker.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;

						iColorPickerColor1-oid/id;
						iColorPickerColor2-oid/id;
						iColorPickerColor3-oid/id;

						iColorPickerTransparency-oid/id;

						iText/html;

						iText-ColorPickerSettings/custom,vis-inventwo.infoText,emptyText;
						iColorPickerFormat[HEX]/nselect,HEX,HEX 8,RGB,HSL,HSV,CIE/updateColorPickerFields;
						iColorPickerLayoutDirection[vertical]/select,vertical,horizontal;
						iColorPickerShowWheel[true]/checkbox;
						iColorPickerShowSliderHue[]/checkbox;
						iColorPickerShowSliderSaturation[]/checkbox;
						iColorPickerShowSliderValue[]/checkbox;
						iColorPickerShowSliderRed[]/checkbox;
						iColorPickerShowSliderGreen[]/checkbox;
						iColorPickerShowSliderBlue[]/checkbox;
						iColorPickerShowSliderAlpha[]/checkbox;
						iColorPickerShowSliderKelvin[]/checkbox;"
		data-vis-attrs0="group.i-css;
						 iApplyTheme/custom,vis-inventwo.applyThemeButton,universal;
						 iText-ColorPickerSettings/custom,vis-inventwo.infoText,emptyText;
						 iColorPickerWidth[200]/slider,50,500,1;
						 iColorPickerComponentMargin[12]/slider,1,50,1;
						 iColorPickerHandleRadius[8]/slider,1,50,1;
						 iColorPickerHandlePadding[6]/slider,1,50,1;

						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextDecoration[none]/nselect,none,underline,overline,line-through;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgSpaceTop[5]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Color Picker<br>
						<span style='color:#888888;'>HEX, RGB, HSL, HSV, CIE/xy</span>">
	<div class="vis-widget waves-effect waves-light vis-inventwo-universal-widget" style="width:235px; height:235px; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo-widgets'].colorPicker(el, this.data) %>
		<%= (el) -> vis.binds['vis-inventwo-old'].updateColorPickerFieldsClick(el) %>
	</div>
</script>

<script id="i-vis-image-new"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Image.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iValue/text;
						iImageFalse/image;
						iImageTrue/image;
						iPointerEvents/checkbox;"
		data-vis-attrs0="group.i-css;
						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[0]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[0]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iImgRotation[0]/slider,0,180,1;
						 iFlipImage/checkbox;
						 iOpacityCtn[1]/slider,0,1,0.1;
						 iImgBlinkFalse[0]/slider,0,2000,100;
						 iImgBlinkTrue[0]/slider,0,2000,100;
						 iImgColorFalse[]/color;
						 iImgColorTrue[]/color;
						 iImgColorInvertFalse/checkbox;
						 iImgColorInvertTrue/checkbox;
						 iImgScaleType[Normal]/select,Normal,iRepeat,iStretch;
						 iImgTileSize[]/slider,1,100,1;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowSpread[0]/slider,0,50,1;
						 iShadowSpreadInner[0]/slider,0,50,1;
						 iShadowBlur[0]/slider,0,50,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="static,val"
		data-vis-name="Image">

	<%
	let pointer_event = "auto";
	if(this.data.iPointerEvents == true && !vis.editMode){
		pointer_event = "none";
	}

	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:110px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<%
				let d = this.data;
				let imgColorFilter = "";
				let wid = "";
				let invertCol = "";

				function create(){

					let dataNew = Object.assign({},d);
					if(vis.editMode){
						dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
					}

					wid = dataNew.wid;

					let cssData = {};

					cssData.flip = 1;
            		if(dataNew.iFlipImage){
            			cssData.flip = -1;
            		}

            		let imgBlink;
            		let img = "";
            		let shadow = "";

            		let val = vis.binds["vis-inventwo"].convertValue(dataNew.iValue);

            		if(dataNew.oid != undefined && vis.states.attr(dataNew.oid + '.val') == val) {
            			imgBlink = dataNew.iImgBlinkTrue / 1000;

						imgColorFilter = dataNew.iImgColorTrue;

            			img = dataNew.iImageTrue;
            			shadow = "box-shadow: 0px 0px " + dataNew.iShadowBlur + "px " + dataNew.iShadowSpread + "px " + dataNew.iShadowColorActive;

						if(dataNew.iImgColorInvertTrue == true){
							invertCol = " filter: invert(1);";
						}
            		}
            		else{
            			imgBlink = dataNew.iImgBlinkFalse / 1000;

            			imgColorFilter = dataNew.iImgColorFalse;

            			img = dataNew.iImageFalse;
            			shadow = "box-shadow: 0px 0px " + dataNew.iShadowBlur + "px " + dataNew.iShadowSpread + "px " + dataNew.iShadowColor;

            			if(dataNew.iImgColorInvertFalse == true){
							invertCol = " filter: invert(1);";
						}
            		}

            		let scaleTypeCss = "";
            		switch(dataNew.iImgScaleType){
            			case "iRepeat":
            				scaleTypeCss = "background-repeat: repeat;";
            				scaleTypeCss += "background-size: " + dataNew.iImgTileSize + "%;";
            				break;
            			case "iStretch":
            				scaleTypeCss = "background-size: 100% 100%;";
            				break;
            		}

            		changeFilter();

            		return `
            		<div class="vis-inventwo-button-imageContainer"
            			 style="align-self: center;
            			 		display: flex;
    							justify-content: center;
    							align-items: center;
    							width:100%; height:100%;
    							opacity: ` + dataNew.iOpacityCtn + `;">

            			<div style="width: ` + dataNew.iShadowSpreadInner + `px; height: ` + dataNew.iShadowSpreadInner+
            			 			`px; position: absolute; background:` + dataNew.iShadowColor+ `; border-radius: 100%; ` + shadow + `;"></div>
            		    <div class='vis-inventwo-img'
            		    	 style="transform: scaleX(` + cssData.flip + `) rotateZ(` + dataNew.iImgRotation + `deg);
            		    	 		border-radius: ` + dataNew.iCornerRadiusUL + `px ` + data.iCornerRadiusUR+ `px ` + data.iCornerRadiusLR+ `px ` + data.iCornerRadiusLL+ `px;
            		    	 		animation:blink ` + imgBlink + `s infinite; ` + invertCol + `background-image: url('` + img + `');
            		    	 		width: 100%; height: 100%;` + scaleTypeCss + `"></div>

					</div>
            		`;

            	}

            	function changeFilter(){
            		setTimeout(function(){
            			vis.binds["vis-inventwo"].getImgColorFilter(imgColorFilter, wid, null, invertCol != '');
            		}, 10);

            	}
			%>

            <div class="vis-inventwo-button-new" style="width:100%; height:100%;">
            	<div style="width:100%; height:100%;">
            		<%== create() %>
            	</div>
            </div>


		</div>

	</div>


</script>

<script id="i-vis-jsontable"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Table.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iTblShowHead/checkbox;
						iTblFixedHead/checkbox;
						iTblRowLimit[1]/number;
						iVertScroll/checkbox;
						iHorScroll/checkbox;
						iTableRefreshRate[0]/number,0,3600,1;
						iTblDummyRow/html;
						iTblSortAttr/text;
						iTblSortOrder[asc]/select,asc,desc;"
		data-vis-attrs0="iColCount[1]/number,0,100,1;group.iTableCol/byindex;
						 iColShow(1-iColCount)[true]/checkbox;
						 iColName(1-iColCount)/text;
						 iColAttr(1-iColCount)/text;
						 iTblCellPlaceholder(1-iColCount)/text;
						 iColWidth(1-iColCount)/text;
						 iColPreText(1-iColCount)/html;
						 iColAfterText(1-iColCount)/html;

						 iTblHeadTextAlign(1-iColCount)[center]/nselect,left,center,right;
						 iTblTextAlign(1-iColCount)[left]/nselect,left,center,right;

						 iTblCellFormat(1-iColCount)[normal]/nselect,normal,datetime,image,boolean,number/updateJsonTableFields();

						 iTblCellDatetimeFormat(1-iColCount)/text;
						 iTblCellDatetimeFormatInfo(1-iColCount)/custom,vis-inventwo.infoText,tblDateInfo;

						 iTblCellImageSize(1-iColCount)[200]/slider,0,1000,1;

						 iTblCellBooleanCheckbox(1-iColCount)[false]/checkbox;
						 iTblCellBooleanColorFalse(1-iColCount)[#ff0000]/color;
						 iTblCellBooleanColorTrue(1-iColCount)[#00ff00]/color;

						 iTblCellNumberDecimals(1-iColCount)[2]/number;
						 iTblCellNumberDecimalSeperator(1-iColCount)[.]/text;
						 iTblCellNumberThousandSeperator(1-iColCount)[,]/text;
						 iTblCellThresholdsDp(1-iColCount)[]/id;
						 iTblCellThresholdsText(1-iColCount)[]/html;"
		data-vis-attrs1="group.i-css;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iOpacityAll[1]/slider,0,1,0.1;
						 iTblRowEvenColor[#333333]/color;
						 iTblRowUnevenColor[#455618]/color;
						 iTblHeaderColor[#333333]/color;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iRowSpacing[10]/slider,0,50,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTblRowEvenTextColor[#ffffff]/color;
						 iTblRowUnevenTextColor[#ffffff]/color;
						 iTblHeaderTextColor[#ffffff]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyleLeft[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleRight[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleUp[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderStyleDown[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderRemoveDouble/checkbox;
						 iBorderColor[#ffffff]/color;"

		data-vis-set="vis-inventwo"
		data-vis-type="table"
		data-vis-name="JSON Table">

		<%
			let dataNew = Object.assign({},this.data);
			if(vis.editMode){
				dataNew = vis.binds['vis-inventwo'].getDatapointsValues(dataNew);
			}
		%>

		<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:auto; height:auto; overflow:hidden;z-index:1" id="<%= this.data.attr('wid') %>" >

        		<%= (el) -> vis.binds['vis-inventwo'].jsontable(el, dataNew) %>

		</div>



</script>
<!--iText-GridSettings/custom,vis-inventwo.infoText,emptyText;
 						 iGridColumn/number,1,100,1;
 						 iGridRow/number,1,100,1;
 						 iGridColumnSpan[1]/number,1,100,1;
 						 iGridRowSpan[1]/number,1,100,1;"-->
<script id="i-vis-radiobutton-list"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Radio.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iCheckType[iCheckDpValue]/select,iCheckDpValue,iCheckView;
						oid/id;
						iRadiobtnWidth[100]/slider,50,200,1;
						iRadiobtnHeight[50]/slider,10,200,1;
						iRadiobtnSpace[10]/slider,0,100,1;
						iRadiobtnAlign[horizontal]/select,vertical,horizontal;
						iRadiobtnWrap[iOneRowCol]/select,iOneRowCol,iMatrix;"
		data-vis-attrs0="iRadiobtnsCount[1]/number,0,100,1;group.iRadioBtns/byindex;

						 iValue(1-iRadiobtnsCount)/text;
						 iView(1-iRadiobtnsCount)/views;
						 iTextFalse(1-iRadiobtnsCount)/html;
						 iTextTrue(1-iRadiobtnsCount)/html;

						 iText-BackgroundSettings(1-iRadiobtnsCount)/custom,vis-inventwo.infoText,emptyText;
						 iText-BackColorRadioInfo/custom,vis-inventwo.infoText,radioBtnBackColInfoText;
						 iButtonCol(1-iRadiobtnsCount)/color;
						 iButtonActive(1-iRadiobtnsCount)/color;
						 iText-ImgSettings(1-iRadiobtnsCount)/custom,vis-inventwo.infoText,emptyText;
						 iImageFalse(1-iRadiobtnsCount)/image;
						 iImageTrue(1-iRadiobtnsCount)/image;
						 iImgColorFalse(1-iRadiobtnsCount)[]/color;
						 iImgColorTrue(1-iRadiobtnsCount)[]/color;
						 iImgColorInvert(1-iRadiobtnsCount)/checkbox;"
		data-vis-attrs1="group.i-css;
						 iApplyTheme/custom,vis-inventwo.applyThemeButton,universal;
						 iText-BackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iButtonCol[#333333]/color;
						 iButtonActive[#455618]/color;
						 iButtonColHover[]/color;
						 iOpacityBack[1]/slider,0,1,0.1;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[12]/slider,0,50,1;
						 iCornerRadiusUR[0]/slider,0,50,1;
						 iCornerRadiusLR[12]/slider,0,50,1;
						 iCornerRadiusLL[0]/slider,0,50,1;

						 iText-ContentSettings/custom,vis-inventwo.infoText,emptyText;
						 iContentFlexDirection[vertical]/select,horizontal,vertical;
						 iContentVertAlign[iSpace-between]/select,iStart,iCenter,iEnd,iSpace-between;
						 iContentOrder[orderImgText]/select,orderTextImg,orderImgText;
						 iOpacityCtn[1]/slider,0,1,0.1;

						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;
						 iTextAlign[iStart]/select,iStart,iCenter,iEnd;
						 iTextSpaceTop[0]/slider,0,50,1;
						 iTextSpaceBottom[0]/slider,0,50,1;
						 iTextSpaceLeft[0]/slider,0,50,1;
						 iTextSpaceRight[0]/slider,0,50,1;

						 iText-ImageSettings/custom,vis-inventwo.infoText,emptyText;
						 iIconSize[35]/slider,0,200,1;
						 iImgAlign[iCenter]/select,iStart,iCenter,iEnd;
						 iImgRotation[0]/slider,0,180,1;
						 iImgSpaceTop[0]/slider,0,50,1;
						 iImgSpaceBottom[0]/slider,0,50,1;
						 iImgSpaceLeft[0]/slider,0,50,1;
						 iImgSpaceRight[0]/slider,0,50,1;
						 iFlipImage/checkbox;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[1]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;"

		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Radiobutton List">

	<div class="vis-widget waves-effect waves-light vis-inventwo-radiobuttonlist-widget" style="width:auto; height:auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo-widgets'].radioButtonList(el, this.data) %>
	</div>

</script>


<script id="i-vis-valuelist"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/List.png">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iValueListInfo/custom,vis-inventwo.infoText,valueListInfoText;
						oid/id;
						iValueListText/html;
						iValueListDelimiter/text;
						iValueListStyle[disc]/nselect,none,lower-alpha,upper-alpha,square,circle,decimal, decimal-leading-zero,disc;
						iValueListEntryDistance[0]/slider,0,50,1;"
		data-vis-attrs0="group.i-css;
						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="table"
		data-vis-name="Value List">

	<%
		let pointer_event = "auto";
		if(this.data.iPointerEvents == true && !vis.editMode){
			pointer_event = "none";
		}
	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:110px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<%= (el) -> vis.binds['vis-inventwo'].valueList(el, this.data) %>

		</div>
	</div>


</script>

<script id="i-vis-marquee"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Marquee.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						iValueListInfo/custom,vis-inventwo.infoText,valueListInfoText;
						oid/id;
						iMarqueeText[Lauftext]/html;
						iMarqueeDirection[left]/nselect,left,right,up,down;
						iMarqueeSpeed[20]/slider,1,50,1;"
		data-vis-attrs0="group.i-css;
						 iText-TextSettings/custom,vis-inventwo.infoText,emptyText;
						 iTextColor[#ffffff]/color;
						 iTextSize[12]/slider,0,50,1;"
		data-vis-set="vis-inventwo"
		data-vis-type="static,val"
		data-vis-name="Marquee<br><span style='color:red;'>Funktioniert nicht in allen Browsern! Neues Widget ist in arbeit</span>">

	<%
		let pointer_event = "auto";
		if(this.data.iPointerEvents == true && !vis.editMode){
			pointer_event = "none";
		}
	%>

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light"
		 style="width:110px; height:20px; overflow:visible; cursor:default; z-index:1; pointer-events:<%== pointer_event %>;"
		 id="<%= this.data.attr('wid') %>" >
		<div class="vis-inventwo-class vis-widget-body <%== this.data.attr('class') %>">

			<marquee
				style="color: <%= this.data.iTextColor %>;
					   font-size: <%= this.data.iTextSize %>px;
					   height: 100%; widht: 100%;"
				direction="<%= this.data.iMarqueeDirection %>"
				scrollamount="<%= this.data.iMarqueeSpeed %>">

				<%== this.data.iMarqueeText %>
			</marquee>

		</div>
	</div>



</script>

<script id="i-vis-switch-1"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Toggle.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;
						oid/id;
						iValueFalse/text;
						iValueTrue/text;
						iSwitchOrientation[vertical]/select,horizontal,vertical;"
		data-vis-attrs0="group.i-css;
						 iText-ToggleSwitchSettings/custom,vis-inventwo.infoText,emptyText;
						 iOpacityBack[1]/slider,0,1,0.1;
						 iSwitchSize[110]/slider,10,200,1;
						 iFlipImage/checkbox;
						 iSwitchColOn[#333333]/color;
						 iSwitchColOnActive[#00ff00]/color;
						 iSwitchColOff[#333333]/color;
						 iSwitchColOffActive[#ff0000]/color;
						 iSwitchColor[white]/select,black,grey,white;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Switch<br>
						<span style='color:#888888;'>Simple toggle switch</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:auto; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">

		<%= (el) -> vis.binds['vis-inventwo'].createSwitchWidget(el, this.data, this.style) %>
		<%= (el) -> vis.binds['vis-inventwo'].hideImgFilterFields(el) %>

	</div>




</script>


<script id="i-vis-switch-basic"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Switch.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;"
		data-vis-attrs0="iSwitchCount[1]/number,1,20,1;group.iBasicSwitchSwitches/byindex;
						 oid(1-iSwitchCount)/id;
						 iValueFalse(1-iSwitchCount)/text;
						 iValueTrue(1-iSwitchCount)/text;
						 iTextFalse(1-iSwitchCount)/html;
						 iTextTrue(1-iSwitchCount)/html;"
		data-vis-attrs1="group.i-css;
						 iSwitchOrientation[vertical]/select,vertical,horizontal;
						 iSwitchSpacing[20]/slider,1,200,1;
						 iSwitchTextSpacing[5]/slider,1,200,1;
						 iText-BasicSwitchBackgroundSettings/custom,vis-inventwo.infoText,emptyText;
						 iBackgroundColor[#333333]/color;
						 iBackgroundColorActive[#7e9640]/color;
						 iBarWidth[20]/slider,1,200,1;
						 iBorderRadius[20]/slider,0,100,1;

						 iText-BasicSwitchKnobSettings/custom,vis-inventwo.infoText,emptyText;
						 iKnobWidth[30]/slider,1,200,1;
						 iKnobHeight[30]/slider,1,200,1;
						 iKnobBorderRadius[30]/slider,0,100,1;
						 iKnobOffset[30]/slider,1,200,1;
						 iKnobBackgroundColor[#455618]/color;
						 iKnobBackgroundColorActive[#455618]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Basic Switch<br>
						<span style='color:#888888;'>Simple toggle switch</span>">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:100px; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].createBasicSwitchWidget(el, this.data, this.style) %>
	</div>
</script>

<script id="i-vis-checkbox"
		type="text/ejs"
		class="vis-tpl"
		data-vis-prev='<img src="widgets/vis-inventwo/img/Check.gif">'
		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;"
		data-vis-attrs0="iCheckboxCount[1]/number,1,20,1;group.iCheckboxBox/byindex;
						 oid(1-iCheckboxCount)/id;
						 iValueFalse(1-iCheckboxCount)/text;
						 iValueTrue(1-iCheckboxCount)/text;
						 iText(1-iCheckboxCount)/html;"
		data-vis-attrs1="group.i-css;
						 iCheckboxOrientation[vertical]/select,vertical,horizontal;
						 iCheckboxSpacing[20]/slider,1,200,1;
						 iCheckboxIcon[iIconCheck]/select,iIconCheck,iIconCross,iIconDot;
						 iText-CheckboxBoxSettings/custom,vis-inventwo.infoText,emptyText;
						 iWidth[30]/slider,1,200,1;
						 iHeight[30]/slider,1,200,1;
						 iBackgroundColor[#ffffff]/color;
						 iBackgroundColorActive[#ffffff]/color;
						 iColorIcon[#000000]/color;

						 iText-CornerSettings/custom,vis-inventwo.infoText,emptyText;
						 iCornerRadiusUL[4]/slider,0,50,1;
						 iCornerRadiusUR[4]/slider,0,50,1;
						 iCornerRadiusLR[4]/slider,0,50,1;
						 iCornerRadiusLL[4]/slider,0,50,1;

						 iText-BorderSettings/custom,vis-inventwo.infoText,emptyText;
						 iBorderSize[0]/slider,0,20,1;
						 iBorderStyle[none]/nselect,dotted,dashed,solid,double,groove,ridge,inset,outset,none;
						 iBorderColor[#ffffff]/color;
						 iBorderColorActive[#ffffff]/color;

						 iText-ShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowXOffset[2]/slider,0,20,1;
						 iShadowYOffset[2]/slider,0,20,1;
						 iShadowBlur[2]/slider,0,20,1;
						 iShadowSpread[0]/slider,0,20,1;
						 iShadowColor[#111111]/color;
						 iShadowColorActive[#111111]/color;

						 iText-ShadowInnerSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowInnerXOffset[0]/slider,0,20,1;
						 iShadowInnerYOffset[0]/slider,0,20,1;
						 iShadowInnerBlur[0]/slider,0,20,1;
						 iShadowInnerSpread[0]/slider,0,20,1;
						 iShadowInnerColor[#111111]/color;
						 iShadowInnerColorActive[#111111]/color;

						 iText-TextShadowSettings/custom,vis-inventwo.infoText,emptyText;
						 iShadowTextXOffset[0]/slider,0,20,1;
						 iShadowTextYOffset[0]/slider,0,20,1;
						 iShadowTextBlur[0]/slider,0,20,1;
						 iShadowTextColor[#111111]/color;
						 iShadowTextColorActive[#111111]/color;"
		data-vis-set="vis-inventwo"
		data-vis-type="ctrl"
		data-vis-name="Checkbox/Radiobutton">

	<div class="vis-widget <%== this.data.attr('class') %> waves-effect waves-light" style="width:150px; height: auto; overflow:visible; cursor:pointer;z-index:1" id="<%= this.data.attr('wid') %>">
		<%= (el) -> vis.binds['vis-inventwo'].createCheckbox(el, this.data, this.style) %>
	</div>


</script>


<!--<script id="i-vis-grid"-->
<!--		type="text/ejs"-->
<!--		class="vis-tpl"-->
<!--		data-vis-prev='<img src="widgets/vis-inventwo/img/Universal.gif">'-->
<!--		data-vis-attrs="iWiki/custom,vis-inventwo.externalLinks,wiki;-->

<!--						iText-GridSettings/custom,vis-inventwo.infoText,emptyText;-->
<!--						iGridShow[true]/checkbox;-->
<!--						iGridColWidth[100];-->
<!--						iGridRowHeight[100];-->
<!--						iGridGap[10];-->
<!--						iGridPadding[10];"-->
<!--		data-vis-set="vis-inventwo"-->
<!--		data-vis-type="ctrl"-->
<!--		data-vis-name="Grid">-->

<!--	<%-->

<!--		let styles = [];-->
<!--		let classes = [];-->

<!--		styles.push("grid-auto-columns: " + this.data.iGridColWidth + "px");-->
<!--		styles.push("grid-auto-rows: " + this.data.iGridRowHeight + "px");-->
<!--		styles.push("grid-gap: " + this.data.iGridGap + "px");-->
<!--		styles.push("padding: " + this.data.iGridPadding + "px");-->

<!--		classes.push("show-grid");-->

<!--		styles = styles.join("; ");-->
<!--		classes = classes.join(" ");-->


<!--	%>-->

<!--	<div class="vis-widget <%== this.data.attr('class') %> vis-inventwo-grid <%= classes %>"-->
<!--		 style="width:110px; height:110px; overflow:visible; z-index:0 ;<%= styles %>" id="<%= this.data.attr('wid') %>">-->

<!--		<% vis.binds['vis-inventwo'].gridWidget(this.data.wid, this.data); %>-->
<!--	</div>-->
<!--</script>-->
